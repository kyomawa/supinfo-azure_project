import { loginWithDiscord } from "@/actions/auth/action";
import { Button } from "@/components/ui/button";

// ==================================================================================================================================

type LoginWithDiscordButtonProps = {
  isLoading: boolean;
};

export default function LoginWithDiscordButton({ isLoading }: LoginWithDiscordButtonProps) {
  return (
    <form action={loginWithDiscord}>
      <Button isLoading={isLoading} variant="outline" className="w-full">
        <div className="flex items-center flex-row gap-x-3">
          <DiscordIcon />
          <span>Se connecter avec Discord</span>
        </div>
      </Button>
    </form>
  );
}

// ==================================================================================================================================

function DiscordIcon() {
  return (
    <svg className="size-6" width="48" height="38" viewBox="0 0 48 38" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M40.6605 3.11194C37.5126 1.63907 34.1824 0.592533 30.7579 0C30.3313 0.771187 29.8329 1.80844 29.4892 2.63362C25.797 2.07837 22.1387 2.07837 18.5143 2.63362C18.1708 1.80862 17.6612 0.771187 17.2307 0C13.8028 0.59279 10.4697 1.64199 7.32036 3.11963C1.05336 12.5901 -0.645576 21.825 0.203799 30.9292C4.36049 34.0333 8.38874 35.919 12.3491 37.1529C13.3334 35.7994 14.2035 34.3664 14.9503 32.8688C13.5283 32.3274 12.1575 31.6603 10.8542 30.8752C11.1971 30.621 11.5321 30.356 11.8584 30.0808C19.7563 33.7749 28.3378 33.7749 36.1415 30.0808C36.4693 30.3542 36.8041 30.6191 37.1456 30.8752C35.8402 31.6624 34.4668 32.3309 33.042 32.8727C33.7931 34.3764 34.6616 35.8108 35.6432 37.1567C39.6073 35.9229 43.6393 34.0372 47.796 30.9292C48.7927 20.3752 46.0935 11.2251 40.6605 3.11194ZM16.0264 25.3303C13.6554 25.3303 11.711 23.1169 11.711 20.4216C11.711 17.7263 13.614 15.5091 16.0264 15.5091C18.4387 15.5091 20.3831 17.7223 20.3417 20.4216C20.3454 23.1169 18.4389 25.3303 16.0264 25.3303ZM31.9734 25.3303C29.6025 25.3303 27.6583 23.1169 27.6583 20.4216C27.6583 17.7263 29.561 15.5091 31.9734 15.5091C34.386 15.5091 36.3302 17.7223 36.2887 20.4216C36.2887 23.1169 34.386 25.3303 31.9734 25.3303Z"
        fill="#5865F2"
      />
    </svg>
  );
}

// ==================================================================================================================================
